// ========== –ò–ì–†–û–í–û–ï –°–û–°–¢–û–Ø–ù–ò–ï ==========
// –ï–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã (Single Source of Truth) –¥–ª—è –≤—Å–µ–π –∏–≥—Ä—ã
// –í—Å–µ –º–æ–¥—É–ª–∏ —á–∏—Ç–∞—é—Ç –∏ –∏–∑–º–µ–Ω—è—é—Ç –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ —ç—Ç–æ—Ç –æ–±—ä–µ–∫—Ç

const gameState = {
    // –¢–µ–∫—É—â–∏–π —É—Ä–æ–≤–µ–Ω—å (–∏–Ω–¥–µ–∫—Å –≤ –º–∞—Å—Å–∏–≤–µ levels)
    currentLevel: 0,
    
    // –í—Å–µ —Ä–µ—Å—É—Ä—Å—ã –∏–≥—Ä—ã (–≤–∞–ª—é—Ç—ã)
    materials: {
        dirt: { 
            earned: 0,          // –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–≥–æ —Ä–µ—Å—É—Ä—Å–∞ (—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞)
            spendable: 0,       // –î–æ—Å—Ç—É–ø–Ω–æ–µ –¥–ª—è —Ç—Ä–∞—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ
            clickPower: 1,      // –°–∏–ª–∞ –æ–¥–Ω–æ–≥–æ –∫–ª–∏–∫–∞
            autoPerSec: 0,      // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –¥–æ–±—ã—á–∞ –≤ —Å–µ–∫—É–Ω–¥—É
            clickLevel: 1,      // –£—Ä–æ–≤–µ–Ω—å —É–ª—É—á—à–µ–Ω–∏—è —Å–∏–ª—ã –∫–ª–∏–∫–∞
            autoLevel: 0,       // –£—Ä–æ–≤–µ–Ω—å —É–ª—É—á—à–µ–Ω–∏—è –∞–≤—Ç–æ-–¥–æ–±—ã—á–∏
            unlocked: true,     // –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω –ª–∏ —Ä–µ—Å—É—Ä—Å
            color: '#8B4513',   // –¶–≤–µ—Ç –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –Ω–∞ —Å–µ—Ç–∫–µ
            emoji: 'üü§'         // –≠–º–æ–¥–∑–∏ –¥–ª—è UI
        },
        grass: { 
            earned: 0,
            spendable: 0,
            clickPower: 1, 
            autoPerSec: 0, 
            clickLevel: 1, 
            autoLevel: 0, 
            unlocked: false, 
            color: '#228B22', 
            emoji: 'üü¢'
        },
        wood: { 
            earned: 0,
            spendable: 0,
            clickPower: 1, 
            autoPerSec: 0, 
            clickLevel: 1, 
            autoLevel: 0, 
            unlocked: false, 
            color: '#D2691E', 
            emoji: 'üü´'
        },
        stone: { 
            earned: 0,
            spendable: 0,
            clickPower: 1, 
            autoPerSec: 0, 
            clickLevel: 1, 
            autoLevel: 0, 
            unlocked: false, 
            color: '#808080', 
            emoji: '‚ö´'
        },
        metal: { 
            earned: 0,
            spendable: 0,
            clickPower: 1, 
            autoPerSec: 0, 
            clickLevel: 1, 
            autoLevel: 0, 
            unlocked: false, 
            color: '#C0C0C0', 
            emoji: '‚ö™'
        }
    },
    // –¢–µ–∫—É—â–∏–π —Å–ª–æ–π –∑–∞–∫—Ä–∞—Å–∫–∏ (dirt ‚Üí grass ‚Üí wood ‚Üí stone ‚Üí metal)
    currentLayer: 'dirt',
    
    // –ù–∞–∫–æ–ø–ª–µ–Ω–Ω—ã–µ –∫–ª–∏–∫–∏ –¥–ª—è –∑–∞–∫—Ä–∞—Å–∫–∏ –ø–∏–∫—Å–µ–ª–µ–π
    currentPixelClicks: 0,  // –û—Ç —Ä—É—á–Ω—ã—Ö –∫–ª–∏–∫–æ–≤
    autoPixelClicks: 0,     // –û—Ç –∞–≤—Ç–æ-–¥–æ–±—ã—á–∏
    
    // –ü—Ä–æ–≥—Ä–µ—Å—Å –∑–∞–∫—Ä–∞—Å–∫–∏ –∫–∞–∂–¥–æ–≥–æ —Å–ª–æ—è (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–∫—Ä–∞—à–µ–Ω–Ω—ã—Ö –ø–æ–¥–ø–∏–∫—Å–µ–ª–µ–π)
    layerProgress: { dirt: 0, grass: 0, wood: 0, stone: 0, metal: 0 },
    
    // –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–¥–ø–∏–∫—Å–µ–ª–µ–π –Ω–∞ –æ–¥–Ω–æ–º —Å–ª–æ–µ (—Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –≤ initGrid)
    totalPixelsPerLayer: 0,
    
    // –¢–µ–∫—É—â–∞—è —Ü–µ–Ω–∞ –æ–¥–Ω–æ–≥–æ –ø–æ–¥–ø–∏–∫—Å–µ–ª—è (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Å–ª–æ—è)
    clicksPerPixel: 4,
    
    // –ë–∞–∑–æ–≤–∞—è —Ü–µ–Ω–∞ –ø–æ–¥–ø–∏–∫—Å–µ–ª—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–ª–æ—è
    baseClicksPerPixel: {
        dirt: 3,
        grass: 50,
        wood: 300,
        stone: 1500,
        metal: 8000
    },
    // –°—Ç–æ–∏–º–æ—Å—Ç—å —É–ª—É—á—à–µ–Ω–∏–π –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–µ—Å—É—Ä—Å–∞
    upgradeCosts: {
        dirt: { click: 10, auto: 50 },
        grass: { click: 15, auto: 75 },
        wood: { click: 20, auto: 100 },
        stone: { click: 30, auto: 150 },
        metal: { click: 50, auto: 250 }
    },
    
    // –°–ª—É–∂–µ–±–Ω—ã–µ –º–∞—Å—Å–∏–≤—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Å–µ—Ç–∫–æ–π
    grid: [],              // HTML-—ç–ª–µ–º–µ–Ω—Ç—ã –±–æ–ª—å—à–∏—Ö –ø–∏–∫—Å–µ–ª–µ–π
    pixelOrder: [],        // –ü–æ—Ä—è–¥–æ–∫ –∑–∞–∫—Ä–∞—à–∏–≤–∞–Ω–∏—è —Ç–µ–∫—É—â–µ–≥–æ —Å–ª–æ—è
    allPixelsOrder: []     // –ü–æ—Ä—è–¥–æ–∫ –∑–∞–∫—Ä–∞—à–∏–≤–∞–Ω–∏—è –≤—Å–µ—Ö —Å–ª–æ–µ–≤
};

// ========== –≠–ö–û–ù–û–ú–ò–ö–ê ==========
// –ö—É—Ä—Å—ã –æ–±–º–µ–Ω–∞ —Ä–µ—Å—É—Ä—Å–æ–≤ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è)
// –ú–ª–∞–¥—à–∏–µ —Ä–µ—Å—É—Ä—Å—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–µ–≤—Ä–∞—â–∞—é—Ç—Å—è –≤ —Å—Ç–∞—Ä—à–∏–µ
const conversionRates = {
    grass: { dirtRequired: 4, grassPerConversion: 1 },
    wood: { grassRequired: 8, woodPerConversion: 1 },
    stone: { woodRequired: 12, stonePerConversion: 1 },
    metal: { stoneRequired: 16, metalPerConversion: 1 }
};

// –ü–æ—Ä—è–¥–æ–∫ —Å–ª–æ—ë–≤ –∑–∞–∫—Ä–∞—Å–∫–∏ (–æ—Ç –ø–µ—Ä–≤–æ–≥–æ –∫ –ø–æ—Å–ª–µ–¥–Ω–µ–º—É)
const layerOrder = ['dirt', 'grass', 'wood', 'stone', 'metal'];
