# üìñ –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: Pixel Cat Expander

## 1. –û–±—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (–ö–∞–∫ –≤—Å—ë —Å–≤—è–∑–∞–Ω–æ)

–ò–≥—Ä–∞ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∞ –Ω–∞ **–º–æ–¥—É–ª—å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ** —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Vanilla JavaScript (–±–µ–∑ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤). –£ –∏–≥—Ä—ã –µ—Å—Ç—å **–ï–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã (Single Source of Truth)** ‚Äî –≥–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç `gameState`. –í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏ –ª–∏–±–æ —á–∏—Ç–∞—é—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ –Ω–µ–≥–æ, –ª–∏–±–æ –∏–∑–º–µ–Ω—è—é—Ç –µ–≥–æ, –∞ –∑–∞—Ç–µ–º –¥–∞—é—Ç –∫–æ–º–∞–Ω–¥—É –º–æ–¥—É–ª—é UI –æ–±–Ω–æ–≤–∏—Ç—å —ç–∫—Ä–∞–Ω.

### –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –¥–µ–π—Å—Ç–≤–∏–π:

1. –ò–≥—Ä–æ–∫ –∫–ª–∏–∫–∞–µ—Ç –ø–æ –∫–∞–Ω–≤–∞—Å—É –∏–ª–∏ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ç–∞–π–º–µ—Ä –∞–≤—Ç–æ-–¥–æ–±—ã—á–∏ (`js/clicks.js` / `js/main.js`)
2. –ò–∑–º–µ–Ω—è—é—Ç—Å—è —á–∏—Å–ª–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ `gameState.materials` –∏ `gameState.currentPixelClicks`
3. –ï—Å–ª–∏ –∫–ª–∏–∫–æ–≤ —Ö–≤–∞—Ç–∞–µ—Ç, –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ª–æ–≥–∏–∫–∞ –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ —Å–µ—Ç–∫–∏ (`js/grid.js`)
4. –í—ã–∑—ã–≤–∞–µ—Ç—Å—è `updateUI()` –∏–∑ `js/ui.js`, –∫–æ—Ç–æ—Ä–∞—è –±–µ—Ä–µ—Ç –Ω–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ `gameState` –∏ –º–µ–Ω—è–µ—Ç —Ç–µ–∫—Å—Ç –Ω–∞ —ç–∫—Ä–∞–Ω–µ (`index.html`)

### –î–∏–∞–≥—Ä–∞–º–º–∞ –ø–æ—Ç–æ–∫–∞ –¥–∞–Ω–Ω—ã—Ö:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   index.html    ‚îÇ ‚Üê –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞, –ø–æ–¥–∫–ª—é—á–∞–µ—Ç –≤—Å–µ –º–æ–¥—É–ª–∏
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   js/main.js    ‚îÇ ‚Üê –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è, –∏–≥—Ä–æ–≤–æ–π —Ü–∏–∫–ª (autoMine –∫–∞–∂–¥—ã–µ 100ms)
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
         ‚îÇ                                      ‚îÇ
         ‚ñº                                      ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ js/gameState.js ‚îÇ ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫‚îÇ  js/clicks.js   ‚îÇ
‚îÇ  (–Ø–¥—Ä–æ –¥–∞–Ω–Ω—ã—Ö)  ‚îÇ                   ‚îÇ (–û–±—Ä–∞–±–æ—Ç–∫–∞      ‚îÇ
‚îÇ                 ‚îÇ                   ‚îÇ  –∏–Ω–ø—É—Ç–æ–≤)       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ                                     ‚îÇ
         ‚îÇ ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
         ‚îÇ          ‚îÇ          ‚îÇ          ‚îÇ          ‚îÇ
         ‚ñº          ‚ñº          ‚ñº          ‚ñº          ‚ñº
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇgrid.js ‚îÇ ‚îÇ ui.js  ‚îÇ ‚îÇsave.js ‚îÇ ‚îÇresources‚îÇ ‚îÇupgrades‚îÇ
    ‚îÇ(–í–∏–∑—É–∞–ª)‚îÇ ‚îÇ(–ò–Ω—Ç–µ—Ä- ‚îÇ ‚îÇ(–°–æ—Ö—Ä–∞- ‚îÇ ‚îÇ  .js   ‚îÇ ‚îÇ  .js   ‚îÇ
    ‚îÇ        ‚îÇ ‚îÇ —Ñ–µ–π—Å)  ‚îÇ ‚îÇ –Ω–µ–Ω–∏—è) ‚îÇ ‚îÇ(–≠–∫–æ–Ω–æ- ‚îÇ ‚îÇ(–£–ª—É—á-  ‚îÇ
    ‚îÇ        ‚îÇ ‚îÇ        ‚îÇ ‚îÇ        ‚îÇ ‚îÇ –º–∏–∫–∞)  ‚îÇ ‚îÇ —à–µ–Ω–∏—è) ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## 2. –†–∞–∑–±–æ—Ä –º–æ–¥—É–ª–µ–π (–§–∞–π–ª–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞)

–í—Å–µ —Å–∫—Ä–∏–ø—Ç—ã –ø–æ–¥–∫–ª—é—á–∞—é—Ç—Å—è –≤ `index.html` –≤ —Å—Ç—Ä–æ–≥–æ–º –ø–æ—Ä—è–¥–∫–µ, —Ç–∞–∫ –∫–∞–∫ –∑–∞–≤–∏—Å—è—Ç –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞.

### üß† `js/gameState.js` (–Ø–¥—Ä–æ –¥–∞–Ω–Ω—ã—Ö)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –•—Ä–∞–Ω–∏—Ç –≤—Å—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–µ–∫—É—â–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å–µ.

**–ö–ª—é—á–µ–≤—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:**

- `materials`: –û–±—ä–µ–∫—Ç —Å–æ –≤—Å–µ–º–∏ —Ä–µ—Å—É—Ä—Å–∞–º–∏ (`dirt`, `grass`, `wood`, `stone`, `metal`)
  - –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–µ—Å—É—Ä—Å–∞ —Ö—Ä–∞–Ω–∏—Ç—Å—è:
    - `earned` ‚Äî –∑–∞—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ (–æ–±—â–∏–π —Å—á–µ—Ç—á–∏–∫)
    - `spendable` ‚Äî –¥–æ—Å—Ç—É–ø–Ω–æ–µ –¥–ª—è —Ç—Ä–∞—Ç
    - `clickPower` ‚Äî —Å–∏–ª–∞ –∫–ª–∏–∫–∞
    - `autoPerSec` ‚Äî –∞–≤—Ç–æ-–¥–æ–±—ã—á–∞ –≤ —Å–µ–∫—É–Ω–¥—É
    - `unlocked` ‚Äî —Å—Ç–∞—Ç—É—Å —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏
    - `color` ‚Äî —Ü–≤–µ—Ç –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏

- **–°–ª–æ–∏ –∏ –ø–∏–∫—Å–µ–ª–∏:**
  - `currentLayer` ‚Äî —Ç–µ–∫—É—â–∏–π —Ü–≤–µ—Ç –∑–∞–∫—Ä–∞—Å–∫–∏ (0=–∑–µ–º–ª—è, 1=—Ç—Ä–∞–≤–∞ –∏ —Ç.–¥.)
  - `currentPixelClicks` ‚Äî –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω—ã–µ –∫–ª–∏–∫–∏
  - `autoPixelClicks` ‚Äî –∫–ª–∏–∫–∏ –æ—Ç –∞–≤—Ç–æ-–¥–æ–±—ã—á–∏
  - `layerProgress` ‚Äî –º–∞—Å—Å–∏–≤ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –∑–∞–∫—Ä–∞—Å–∫–∏ –∫–∞–∂–¥–æ–≥–æ —Å–ª–æ—è

- **–°–ª–æ–∂–Ω–æ—Å—Ç—å:**
  - `baseClicksPerPixel` ‚Äî –º–∞—Å—Å–∏–≤, –∑–∞–¥–∞—é—â–∏–π —Å–∫–æ–ª—å–∫–æ –∫–ª–∏–∫–æ–≤ –Ω—É–∂–Ω–æ –¥–ª—è –∑–∞–∫—Ä–∞—Å–∫–∏ 1 –ø–æ–¥–ø–∏–∫—Å–µ–ª—è –Ω–∞ –∫–∞–∂–¥–æ–º —Å–ª–æ–µ (–∑–µ–º–ª—è = 3, —Ç—Ä–∞–≤–∞ = 50 –∏ —Ç.–¥.)

- **–≠–∫–æ–Ω–æ–º–∏–∫–∞:**
  - `upgradeCosts` ‚Äî —Ü–µ–Ω—ã —É–ª—É—á—à–µ–Ω–∏–π
  - `conversionRates` ‚Äî –∫—É—Ä—Å—ã –æ–±–º–µ–Ω–∞ –≤–∞–ª—é—Ç

**–°–≤—è–∑–∏:**
- –ß–∏—Ç–∞–µ—Ç—Å—è –≤—Å–µ–º–∏ –º–æ–¥—É–ª—è–º–∏
- –ò–∑–º–µ–Ω—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ `clicks.js`, `upgrades.js`, `resources.js`

---

### ‚öôÔ∏è `js/main.js` (–¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –∏ –ò–≥—Ä–æ–≤–æ–π —Ü–∏–∫–ª)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –£–ø—Ä–∞–≤–ª—è–µ—Ç –ø—É–ª—å—Å–æ–º –∏–≥—Ä—ã.

**–ö–ª—é—á–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**

- `init()` ‚Äî –∑–∞–ø—É—Å–∫–∞–µ—Ç —Å—Ç–∞—Ä—Ç–æ–≤—É—é –Ω–∞—Å—Ç—Ä–æ–π–∫—É:
  - –ó–∞–≥—Ä—É–∂–∞–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è (`loadGame()`)
  - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç —É—Ä–æ–≤–Ω–∏ (`initLevels()`)
  - –°–æ–∑–¥–∞–µ—Ç —Å–µ—Ç–∫—É (`initGrid()`)
  - –û–±–Ω–æ–≤–ª—è–µ—Ç UI (`updateUI()`)
  - –í–µ—à–∞–µ—Ç —Å–ª—É—à–∞—Ç–µ–ª—å —Å–æ–±—ã—Ç–∏–π –∫–ª–∏–∫–∞ –Ω–∞ –∫–∞–Ω–≤–∞—Å

- **–ò–≥—Ä–æ–≤–æ–π —Ü–∏–∫–ª:**
  - `setInterval(autoMine, 100)` ‚Äî –∫–∞–∂–¥—ã–µ 100 –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥ —Å–∏–º—É–ª–∏—Ä—É–µ—Ç –∞–≤—Ç–æ-–∫–ª–∏–∫–∏
  - `setInterval(saveGame, 30000)` ‚Äî –∞–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥

**–°–≤—è–∑–∏:**
- –í—ã–∑—ã–≤–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑ –≤—Å–µ—Ö –º–æ–¥—É–ª–µ–π
- –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

---

### üñ±Ô∏è `js/clicks.js` (–û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–Ω–ø—É—Ç–æ–≤)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –¥–µ–π—Å—Ç–≤–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –≤—Ä–µ–º—è –≤–æ –≤–Ω—É—Ç—Ä–∏–∏–≥—Ä–æ–≤–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å.

**–ö–ª—é—á–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**

- `handleClick(event)` ‚Äî –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ –º—ã—à–∏
- `processClick(event, isAuto)` ‚Äî —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–ª–∏–∫–æ–≤:
  - –ë–ª–æ–∫–∏—Ä—É–µ—Ç –∫–ª–∏–∫–∏ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–æ–º –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–∏–ª—É –∫–ª–∏–∫–∞ –ó–ï–ú–õ–ò (`dirt.clickPower`)
  - –î–æ–±–∞–≤–ª—è–µ—Ç —Ä–µ—Å—É—Ä—Å—ã –≤ `earned` –∏ `spendable`
  - –°–æ–∑–¥–∞–µ—Ç –≤–∏–∑—É–∞–ª—å–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã (—Ç–æ–ª—å–∫–æ –¥–ª—è —Ä—É—á–Ω—ã—Ö –∫–ª–∏–∫–æ–≤)
  - –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç `pixelsToFill` –∏ –≤—ã–∑—ã–≤–∞–µ—Ç `fillSubPixel()`
  - **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:** –õ–∏–º–∏—Ç 50 –ø–∏–∫—Å–µ–ª–µ–π –∑–∞ —Ç–∞–∫—Ç, —ç–∫—Å—Ç—Ä–µ–Ω–Ω—ã–π —Ç–æ—Ä–º–æ–∑ –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ —É—Ä–æ–≤–Ω—è

- `autoMine()` ‚Äî —Ñ—É–Ω–∫—Ü–∏—è –∞–≤—Ç–æ-–¥–æ–±—ã—á–∏:
  - –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –∫–∞–∂–¥—ã–µ 100ms –∏–∑ –∏–≥—Ä–æ–≤–æ–≥–æ —Ü–∏–∫–ª–∞
  - –î–æ–±–∞–≤–ª—è–µ—Ç `autoPerSec / 10` –∫ —Ä–µ—Å—É—Ä—Å–∞–º
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç—É –∂–µ –ª–æ–≥–∏–∫—É –∑–∞–∫—Ä–∞—à–∏–≤–∞–Ω–∏—è —Å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è–º–∏

**–°–≤—è–∑–∏:**
- –ß–∏—Ç–∞–µ—Ç: `gameState.materials`, `gameState.currentPixelClicks`
- –ò–∑–º–µ–Ω—è–µ—Ç: `gameState.materials.*.earned/spendable`, `gameState.currentPixelClicks`
- –í—ã–∑—ã–≤–∞–µ—Ç: `fillSubPixel()` –∏–∑ `grid.js`, `updateUI()` –∏–∑ `ui.js`

---

### üé® `js/grid.js` (–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Å–µ—Ç–∫–∏)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –û—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –æ—Ç—Ä–∏—Å–æ–≤–∫—É –ø–æ–ª—è –∏ –ø–µ—Ä–µ—Ö–æ–¥ –º–µ–∂–¥—É —Å–ª–æ—è–º–∏.

**–ö–ª—é—á–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**

- `initGrid()` ‚Äî —Å–æ–∑–¥–∞–µ—Ç HTML-—Å—Ç—Ä—É–∫—Ç—É—Ä—É —Å–µ—Ç–∫–∏:
  - –ß–∏—Ç–∞–µ—Ç —Ç–µ–∫—É—â–∏–π —É—Ä–æ–≤–µ–Ω—å –∏–∑ `gameState.levels[gameState.currentLevel]`
  - –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç `big-pixel` —ç–ª–µ–º–µ–Ω—Ç—ã (–≤–∏–¥–∏–º—ã–µ –∫–≤–∞–¥—Ä–∞—Ç—ã)
  - –í–∫–ª–∞–¥—ã–≤–∞–µ—Ç –≤ –∫–∞–∂–¥—ã–π –ø–æ 16 `sub-pixel` (–ø–æ–¥–ø–∏–∫—Å–µ–ª–∏ –¥–ª—è –∑–∞–∫—Ä–∞—à–∏–≤–∞–Ω–∏—è)
  - –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç `pixelOrder` ‚Äî –ø–æ—Ä—è–¥–æ–∫ –∑–∞–∫—Ä–∞—à–∏–≤–∞–Ω–∏—è –æ—Ç —Ü–µ–Ω—Ç—Ä–∞ –∫ –∫—Ä–∞—è–º
  - –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å –∏–∑ `gameState.layerProgress`

- `fillSubPixel()` ‚Äî –≥–ª–∞–≤–Ω–∞—è –≤–∏–∑—É–∞–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è:
  - –ò—â–µ—Ç –ø–µ—Ä–≤—ã–π —Å–≤–æ–±–æ–¥–Ω—ã–π –ø–æ–¥–ø–∏–∫—Å–µ–ª—å –Ω–∞ —Ç–µ–∫—É—â–µ–º —Å–ª–æ–µ
  - –ó–∞–∫—Ä–∞—à–∏–≤–∞–µ—Ç –µ–≥–æ —Ü–≤–µ—Ç–æ–º —Ç–µ–∫—É—â–µ–≥–æ –º–∞—Ç–µ—Ä–∏–∞–ª–∞
  - –û–±–Ω–æ–≤–ª—è–µ—Ç `gameState.layerProgress`
  - –ï—Å–ª–∏ —Å–ª–æ–π –∑–∞–≤–µ—Ä—à–µ–Ω ‚Äî –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —Å–ª–æ—é
  - –ï—Å–ª–∏ –ø–æ—Å–ª–µ–¥–Ω–∏–π —Å–ª–æ–π –∑–∞–∫—Ä–∞—à–µ–Ω ‚Äî –≤—ã–∑—ã–≤–∞–µ—Ç `completeLevel()`

- `completeLevel()` ‚Äî –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ —É—Ä–æ–≤–Ω—è:
  - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å –∫–Ω–æ–ø–∫–æ–π –ø–µ—Ä–µ—Ö–æ–¥–∞
  - –ë–ª–æ–∫–∏—Ä—É–µ—Ç –¥–∞–ª—å–Ω–µ–π—à–∏–µ –∫–ª–∏–∫–∏ –¥–æ –ø–µ—Ä–µ—Ö–æ–¥–∞

- `nextLevel()` ‚Äî –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–≤–µ–Ω—å:
  - –°–±—Ä–∞—Å—ã–≤–∞–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å —Å–ª–æ–µ–≤
  - –£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç `currentLevel`
  - –ü–µ—Ä–µ—Å–æ–∑–¥–∞–µ—Ç —Å–µ—Ç–∫—É

**–°–≤—è–∑–∏:**
- –ß–∏—Ç–∞–µ—Ç: `gameState.levels`, `gameState.currentLevel`, `gameState.currentLayer`
- –ò–∑–º–µ–Ω—è–µ—Ç: `gameState.layerProgress`, `gameState.currentLayer`, `gameState.currentLevel`
- –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –∏–∑: `clicks.js` (fillSubPixel), `main.js` (initGrid)

---

### üñºÔ∏è `js/ui.js` (–°–≤—è–∑—å –¥–∞–Ω–Ω—ã—Ö —Å HTML)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ú–æ—Å—Ç –º–µ–∂–¥—É `gameState` –∏ —Ç–µ–º, —á—Ç–æ –≤–∏–¥–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å.

**–ö–ª—é—á–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**

- `updateUI()` ‚Äî –≥–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞:
  - –û–±–Ω–æ–≤–ª—è–µ—Ç —Å—á–µ—Ç—á–∏–∫–∏ —Ä–µ—Å—É—Ä—Å–æ–≤ (`dirt-amount`, `grass-amount` –∏ —Ç.–¥.)
  - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç/—Å–∫—Ä—ã–≤–∞–µ—Ç —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã
  - –û–±–Ω–æ–≤–ª—è–µ—Ç —Ü–µ–Ω—ã —É–ª—É—á—à–µ–Ω–∏–π –Ω–∞ –∫–Ω–æ–ø–∫–∞—Ö
  - –í–∫–ª—é—á–∞–µ—Ç/–æ—Ç–∫–ª—é—á–∞–µ—Ç –∫–Ω–æ–ø–∫–∏ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –Ω–∞–ª–∏—á–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤
  - –û–±–Ω–æ–≤–ª—è–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —É—Ä–æ–≤–Ω—è
  - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–µ–∫—É—â–µ–º —É—Ä–æ–≤–Ω–µ

- `updateProgress()` ‚Äî –æ–±–Ω–æ–≤–ª—è–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä:
  - –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –ø—Ä–æ—Ü–µ–Ω—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–≥–æ —Å–ª–æ—è
  - –û–±–Ω–æ–≤–ª—è–µ—Ç —à–∏—Ä–∏–Ω—É –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–∞
  - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–µ–∫—Å—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å–∞

**–°–≤—è–∑–∏:**
- –ß–∏—Ç–∞–µ—Ç: –≤–µ—Å—å `gameState`
- –ò–∑–º–µ–Ω—è–µ—Ç: DOM-—ç–ª–µ–º–µ–Ω—Ç—ã –≤ `index.html`
- –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –∏–∑: –≤—Å–µ—Ö –º–æ–¥—É–ª–µ–π –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

---

### üíæ `js/save.js` (–•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å –≤ –±—Ä–∞—É–∑–µ—Ä.

**–ö–ª—é—á–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**

- `saveGame()` ‚Äî —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ:
  - –°–æ–±–∏—Ä–∞–µ—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ `gameState`
  - –ü–∞–∫—É–µ—Ç –≤ —Å—Ç—Ä–æ–∫—É JSON
  - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ `localStorage` –ø–æ–¥ –∫–ª—é—á–æ–º `pixelCatIncrementalSave`

- `loadGame()` ‚Äî –∑–∞–≥—Ä—É–∑–∫–∞:
  - –ò–∑–≤–ª–µ–∫–∞–µ—Ç JSON –∏–∑ `localStorage`
  - –†–∞—Å–ø–∞–∫–æ–≤—ã–≤–∞–µ—Ç –∏ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç `gameState`
  - –ü–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç —É–∂–µ –∑–∞–∫—Ä–∞—à–µ–Ω–Ω—ã–µ –ø–∏–∫—Å–µ–ª–∏ –Ω–∞ –∫–∞–Ω–≤–∞—Å–µ

- `resetGame()` ‚Äî —Å–±—Ä–æ—Å –ø—Ä–æ–≥—Ä–µ—Å—Å–∞:
  - –û—á–∏—â–∞–µ—Ç `localStorage`
  - –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É

**–°–≤—è–∑–∏:**
- –ß–∏—Ç–∞–µ—Ç/–∏–∑–º–µ–Ω—è–µ—Ç: –≤–µ—Å—å `gameState`
- –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –∏–∑: `main.js` (–∞–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ), –∫–Ω–æ–ø–∫–∏ —Å–±—Ä–æ—Å–∞

---

### üîÑ `js/resources.js` (–≠–∫–æ–Ω–æ–º–∏–∫–∞ - –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤.

**–ö–ª—é—á–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**

- `autoConvertResources()` ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è:
  - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–∞–∂–¥—ã–π —Ä–µ—Å—É—Ä—Å (–∫—Ä–æ–º–µ –º–µ—Ç–∞–ª–ª–∞)
  - –ï—Å–ª–∏ –Ω–∞–∫–æ–ø–ª–µ–Ω–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è –æ–±–º–µ–Ω–∞ ‚Äî –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç
  - –ú–ª–∞–¥—à–∏–µ —Ä–µ—Å—É—Ä—Å—ã –ø—Ä–µ–≤—Ä–∞—â–∞—é—Ç—Å—è –≤ —Å—Ç–∞—Ä—à–∏–µ –ø–æ –∫—É—Ä—Å—É
  - –ü—Ä–∏–º–µ—Ä: 4 –∑–µ–º–ª–∏ ‚Üí 1 —Ç—Ä–∞–≤–∞

**–°–≤—è–∑–∏:**
- –ß–∏—Ç–∞–µ—Ç: `gameState.materials`, `gameState.conversionRates`
- –ò–∑–º–µ–Ω—è–µ—Ç: `gameState.materials.*.spendable`
- –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –∏–∑: `clicks.js` –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –∫–ª–∏–∫–∞/–∞–≤—Ç–æ-–¥–æ–±—ã—á–∏

---

### ‚¨ÜÔ∏è `js/upgrades.js` (–≠–∫–æ–Ω–æ–º–∏–∫–∞ - –£–ª—É—á—à–µ–Ω–∏—è)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø–æ–∫—É–ø–∫—É —É–ª—É—á—à–µ–Ω–∏–π.

**–ö–ª—é—á–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**

- `buyUpgrade(materialName, upgradeType)` ‚Äî –ø–æ–∫—É–ø–∫–∞ —É–ª—É—á—à–µ–Ω–∏—è:
  - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
  - –°–ø–∏—Å—ã–≤–∞–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç—å
  - –ü–æ–≤—ã—à–∞–µ—Ç —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ (`clickPower` –∏–ª–∏ `autoPerSec`)
  - –£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Ü–µ–Ω—É —Å–ª–µ–¥—É—é—â–µ–≥–æ —É–ª—É—á—à–µ–Ω–∏—è (√ó1.15)
  - **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å –±–∞–ª–∞–Ω—Å–∞:** –£–ª—É—á—à–µ–Ω–∏—è —Ç—Ä–∞–≤—ã, –¥–µ—Ä–µ–≤–∞ –∏ —Ç.–¥. –Ω–µ –¥–∞—é—Ç –¥–æ–±—ã–≤–∞—Ç—å —ç—Ç—É –≤–∞–ª—é—Ç—É –Ω–∞–ø—Ä—è–º—É—é, –∞ —É—Å–∏–ª–∏–≤–∞—é—Ç –±–∞–∑–æ–≤—É—é –¥–æ–±—ã—á—É –∑–µ–º–ª–∏

**–°–≤—è–∑–∏:**
- –ß–∏—Ç–∞–µ—Ç: `gameState.materials`, `gameState.upgradeCosts`
- –ò–∑–º–µ–Ω—è–µ—Ç: `gameState.materials.*.clickPower/autoPerSec/spendable`, `gameState.upgradeCosts`
- –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –∏–∑: –∫–Ω–æ–ø–æ–∫ —É–ª—É—á—à–µ–Ω–∏–π –≤ `index.html`

---

### üéÆ `js/levels.js` (–ö–æ–Ω—Ç–µ–Ω—Ç - –£—Ä–æ–≤–Ω–∏)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –•—Ä–∞–Ω–∏—Ç –¥–∞–Ω–Ω—ã–µ –æ–± —É—Ä–æ–≤–Ω—è—Ö.

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**

- –ú–∞—Å—Å–∏–≤ —É—Ä–æ–≤–Ω–µ–π —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏:
  - `name` ‚Äî –Ω–∞–∑–≤–∞–Ω–∏–µ —É—Ä–æ–≤–Ω—è
  - `description` ‚Äî –æ–ø–∏—Å–∞–Ω–∏–µ
  - `gridSize` ‚Äî —Ä–∞–∑–º–µ—Ä —Å–µ—Ç–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 8√ó8)
  - `difficulty` ‚Äî –º–Ω–æ–∂–∏—Ç–µ–ª—å —Å–ª–æ–∂–Ω–æ—Å—Ç–∏

**–°–≤—è–∑–∏:**
- –ß–∏—Ç–∞–µ—Ç—Å—è: `grid.js`, `ui.js`
- –ò–∑–º–µ–Ω—è–µ—Ç—Å—è: —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö —É—Ä–æ–≤–Ω–µ–π

---

### ‚ú® `js/effects.js` (–í–∏–∑—É–∞–ª—å–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –°–æ–∑–¥–∞–µ—Ç –≤–∏–∑—É–∞–ª—å–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã –ø—Ä–∏ –∫–ª–∏–∫–∞—Ö.

**–ö–ª—é—á–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**

- `createClickEffect(event, material)` ‚Äî —ç—Ñ—Ñ–µ–∫—Ç "+X" –ø—Ä–∏ –∫–ª–∏–∫–µ
- `createParticles(event, color)` ‚Äî —á–∞—Å—Ç–∏—Ü—ã –ø—Ä–∏ –∫–ª–∏–∫–µ

**–°–≤—è–∑–∏:**
- –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –∏–∑: `clicks.js` (—Ç–æ–ª—å–∫–æ –¥–ª—è —Ä—É—á–Ω—ã—Ö –∫–ª–∏–∫–æ–≤)

---

## 3. –ú–∞–∫–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ (index.html)

–í—ë—Ä—Å—Ç–∫–∞ —Ä–∞–∑–¥–µ–ª–µ–Ω–∞ –Ω–∞ –¥–≤–µ –≥–ª–∞–≤–Ω—ã–µ –∑–æ–Ω—ã:

### `.sidebar` (–õ–µ–≤–∞—è –ø–∞–Ω–µ–ª—å):

- –ë–ª–æ–∫ `.resources` ‚Äî –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è
- –ë–ª–æ–∫ `.upgrades` ‚Äî —Å–µ–∫—Ü–∏–∏ –ø—Ä–æ–∫–∞—á–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –º–∞—Ç–µ—Ä–∏–∞–ª–∞ —Å –∫–Ω–æ–ø–∫–∞–º–∏:
  - `[id]-click-upgrade` ‚Äî —É–ª—É—á—à–µ–Ω–∏–µ —Å–∏–ª—ã –∫–ª–∏–∫–∞
  - `[id]-auto-upgrade` ‚Äî —É–ª—É—á—à–µ–Ω–∏–µ –∞–≤—Ç–æ-–¥–æ–±—ã—á–∏

### `.main-area` (–ü—Ä–∞–≤–∞—è –∏–≥—Ä–æ–≤–∞—è –∑–æ–Ω–∞):

- –ò–Ω—Ñ–æ –æ–± —É—Ä–æ–≤–Ω–µ (`.level-title`, `.level-description`)
- –ü—Ä–æ–≥—Ä–µ—Å—Å –±–∞—Ä –∏ —Å—á–µ—Ç—á–∏–∫ –∫–ª–∏–∫–æ–≤ –¥–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ –ø–∏–∫—Å–µ–ª—è (`.stats`)
- –°–∞–º–æ –ø–æ–ª–µ –¥–ª—è –∫–ª–∏–∫–æ–≤ `.pixel-canvas`, –∫—É–¥–∞ `grid.js` –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –≤—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –ø–∏–∫—Å–µ–ª–∏

---

## 4. –ü–æ—Ä—è–¥–æ–∫ –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥—É–ª–µ–π

**–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ —Å–æ–±–ª—é–¥–∞—Ç—å –ø–æ—Ä—è–¥–æ–∫ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –≤ `index.html`:**

```html
<script src="js/gameState.js"></script>    <!-- 1. –Ø–¥—Ä–æ –¥–∞–Ω–Ω—ã—Ö -->
<script src="js/levels.js"></script>       <!-- 2. –ö–æ–Ω—Ç–µ–Ω—Ç -->
<script src="js/effects.js"></script>      <!-- 3. –í–∏–∑—É–∞–ª—å–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã -->
<script src="js/grid.js"></script>         <!-- 4. –°–µ—Ç–∫–∞ -->
<script src="js/ui.js"></script>           <!-- 5. –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å -->
<script src="js/resources.js"></script>    <!-- 6. –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è -->
<script src="js/upgrades.js"></script>     <!-- 7. –£–ª—É—á—à–µ–Ω–∏—è -->
<script src="js/clicks.js"></script>       <!-- 8. –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∏–∫–æ–≤ -->
<script src="js/save.js"></script>         <!-- 9. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è -->
<script src="js/main.js"></script>         <!-- 10. –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ -->
```

---

## 5. –ö–ª—é—á–µ–≤—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã

### –ê–ª–≥–æ—Ä–∏—Ç–º –∑–∞–∫—Ä–∞—à–∏–≤–∞–Ω–∏—è –ø–∏–∫—Å–µ–ª–µ–π:

```javascript
// 1. –ù–∞–∫–∞–ø–ª–∏–≤–∞–µ–º –∫–ª–∏–∫–∏
gameState.currentPixelClicks += clickPower;

// 2. –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–∏–∫—Å–µ–ª–µ–π –¥–ª—è –∑–∞–∫—Ä–∞—Å–∫–∏
const totalClicks = gameState.currentPixelClicks + gameState.autoPixelClicks;
const pixelsToFill = Math.floor(totalClicks / gameState.clicksPerPixel);

// 3. –ó–∞–∫—Ä–∞—à–∏–≤–∞–µ–º —Å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è–º–∏
if (pixelsToFill > 0) {
    const maxFills = 50; // –õ–∏–º–∏—Ç –∑–∞ —Ç–∞–∫—Ç
    const actualFills = Math.min(pixelsToFill, maxFills);
    
    for (let i = 0; i < actualFills; i++) {
        fillSubPixel();
        // –≠–∫—Å—Ç—Ä–µ–Ω–Ω—ã–π —Ç–æ—Ä–º–æ–∑ –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ —É—Ä–æ–≤–Ω—è
        if (document.getElementById('next-level-btn')) break;
    }
    
    // –°–æ—Ö—Ä–∞–Ω—è–µ–º "—Å–¥–∞—á—É" –∫–ª–∏–∫–æ–≤
    const usedClicks = filledCount * gameState.clicksPerPixel;
    gameState.currentPixelClicks = totalClicks - usedClicks;
}
```

### –ê–ª–≥–æ—Ä–∏—Ç–º –∑–∞–∫—Ä–∞—à–∏–≤–∞–Ω–∏—è –æ—Ç —Ü–µ–Ω—Ç—Ä–∞ –∫ –∫—Ä–∞—è–º:

```javascript
// –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –æ—Ç —Ü–µ–Ω—Ç—Ä–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–∏–∫—Å–µ–ª—è
const centerX = (gridSize - 1) / 2;
const centerY = (gridSize - 1) / 2;
const distance = Math.sqrt(
    Math.pow(x - centerX, 2) + 
    Math.pow(y - centerY, 2)
);

// –°–æ—Ä—Ç–∏—Ä—É–µ–º –ø–∏–∫—Å–µ–ª–∏ –ø–æ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—é
pixelOrder.sort((a, b) => a.distance - b.distance);
```

---

## 6. –†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å

–≠—Ç–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–µ–ª–∞–µ—Ç –∏–≥—Ä—É –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ–π:

- **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ä–µ—Å—É—Ä—Å–∞:** –î–æ–±–∞–≤–∏—Ç—å –≤ `gameState.materials`, —Å–æ–∑–¥–∞—Ç—å —Å–µ–∫—Ü–∏—é –≤ HTML, –æ–±–Ω–æ–≤–∏—Ç—å `ui.js`
- **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —É—Ä–æ–≤–Ω—è:** –î–æ–±–∞–≤–∏—Ç—å –æ–±—ä–µ–∫—Ç –≤ `js/levels.js`
- **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ç–∏–ø–∞ —É–ª—É—á—à–µ–Ω–∏—è:** –†–∞—Å—à–∏—Ä–∏—Ç—å `buyUpgrade()` –≤ `upgrades.js`
- **–ò–∑–º–µ–Ω–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞:** –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å `baseClicksPerPixel`, `conversionRates`, `upgradeCosts` –≤ `gameState.js`

---

## 7. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

- **–õ–∏–º–∏—Ç –æ—Ç—Ä–∏—Å–æ–≤–æ–∫:** –ú–∞–∫—Å–∏–º—É–º 50 –ø–∏–∫—Å–µ–ª–µ–π –∑–∞ —Ç–∞–∫—Ç (100ms)
- **–≠–∫—Å—Ç—Ä–µ–Ω–Ω—ã–π —Ç–æ—Ä–º–æ–∑:** –ü—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ —Ü–∏–∫–ª–∞ –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ —É—Ä–æ–≤–Ω—è
- **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ "—Å–¥–∞—á–∏":** –ö–ª–∏–∫–∏ –Ω–µ —Ç–µ—Ä—è—é—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –º–µ–∂–¥—É —É—Ä–æ–≤–Ω—è–º–∏
- **–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∫–ª–∏–∫–æ–≤:** –ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–æ–º –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ –∫–ª–∏–∫–∏ –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è
- **–ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ:** –ö–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥ –≤–º–µ—Å—Ç–æ –∫–∞–∂–¥–æ–≥–æ –∫–ª–∏–∫–∞
